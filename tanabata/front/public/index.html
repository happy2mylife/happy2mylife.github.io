<html>
  <head>
    <script src="https://www.gstatic.com/firebasejs/6.0.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.0.1/firebase-database.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js"></script>
  </head>
  <body>
    <ul id="messages"></ul>
    <!-- The core Firebase JS SDK is always required and must be listed first -->

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#config-web-app -->

    <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: 'AIzaSyCCKTxmb34shaRU5AHwfzGB-RclDfKRSlI',
        authDomain: 'tanabata-1e952.firebaseapp.com',
        databaseURL: 'https://tanabata-1e952.firebaseio.com',
        projectId: 'tanabata-1e952',
        storageBucket: 'tanabata-1e952.appspot.com',
        messagingSenderId: '1042859915047',
        appId: '1:1042859915047:web:8d9c307a0712c671'
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      // データベースの参照を準備
      var userRef = firebase
        .database()
        .ref('user');

      // 既存メッセージを表示
      userRef.on('child_added', function(snapshot) {
        var msg = snapshot.val();
        $('<li>')
          .text(msg.id)
          .prependTo('#messages');
      });

    </script>
  </body>
</html>
